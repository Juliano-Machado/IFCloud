<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="/style.css">
    <title>Json Form</title>
</head>
<body>
    <%- include('./partials/header.ejs') %>

    <%- include('./partials/form.ejs') %>

    <%- include('./partials/footer.ejs') %>

    <script type="text/javascript">
        /*const form = document.getElementById('json_form');

        var resourceType = document.getElementById('resource_type');
        var resourceId = document.getElementById('resource_id');
        var scriptName = document.getElementById('script_name');
        var haveParams = document.getElementById('have_params');
        var params = document.getElementById('input_params');
        var componentIndex = document.getElementById('component_index');
        var changeField = document.getElementById('change_field');
        var onlyComponent = document.getElementById('only_component');

        form.addEventListener('submit', function(e){
            e.preventDefault();

            var haveParamsBool = (haveParams.value == '1');
            var onlyComponentBool = (onlyComponent.value == '1');

            var response = {
                "resourceType": resourceType.value,
                 "id": ""+resourceId.value,
                 "scriptName": scriptName.value,
                 "haveInputParams": haveParamsBool,
                 "inputParams": [

                 ],
                 "component": {
                   "index": ""+componentIndex.value,
                   "changeField": changeField.value,
                   "returnOnlyFieldsComponent": onlyComponentBool
                 }
            }

            fetch('http://localhost:3007/run_script/operation', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(response)
            })
            .then(res => res.json())
            .then(function(res){;
                console.log('res');
                console.log(res);
            });
        });*/

    </script>
<body>
</html>